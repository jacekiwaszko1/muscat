items = %w[403013961
403013876
403013860
403013757
403013737
403013696
403013388
403013185
403013166
403012948
403012499
403011993
403010698
403010193
403010192
403009993

403009896
403009894
403009802
403009663
403009322
403008988
403008711
403008665
403008304
403008189
403008046
403008043
403007847
403006509
403006367
403006269
403006202
403005857
403005744
403005614
403005326
403004768
403004375
403003073
403002973
403002923
403002608
403002581
403002549
403002470
403002451
403002387
403002184
403002066
403001843
403001785
403001741
403001619
403001575
403001474
403001353
403000979
403000908
403000817
403000795
403000758
403000717
403000534
403000277
402013374
402013296
402013288
402013196
402013091
402010713
402010693
402010670
402010669
402010560
402010551
402010403
402009895

402009480
402009473
402009466
402009458
402009457
402009453
402009450
402009439
402009428
402009408
402009372
402009234
402009190
402009174
402009129
402009126
402009099
402009020
402009015
402009007
402008992
402008985
402008884
402008882
402008881
402008880
402008879
402008875
402008866
402008865
402008862
402008861
402008860
402008859
402008858
402008854
402008846
402008845
402008799
402008798
402008792
402008781
402008711
402008686
402008676
402008674
402008670
402008616
402008615
402008614
402008613
402008612
402008573
402008572
402008571
402008570
402008529
402008503
402008496
402008489
402008421
402008404
402008397
402008388
402008387
402008118
402007481
402007221
402007217
402007200
402007199
402007195
402007194
402007175
402007058
402007010
402007006
402006953
402006906
402006873
402006833
402006693
402006629
402006622
402006619
402006614
402006532
402006527
402006497
402006496
402006495
402006494
402006454
402006429
402006411
402006400
402006397
402006362
402006360
402006342
402006302
402006260
402006242
402006241
402006239
402006234
402006225
402006216
402006213
402006164
402006147
402006135
402006114
402006019
402006015
402006009
402005926
402005879
402005873
402005152
402005151
402005147
402005047
402004969
402004961
402004757
402004733
402004731
402004653
402004649
402004623
402004622
402004515
402004485
402004387
402004386
402004385
402004384
402004383
402004382
402004381
402004380
402004379
402004378
402004377
402004376
402004374
402004373
402004372
402004371
402004370
402004369
402004368
402004367
402004366
402004365
402004364
402004363
402004362
402004361
402004357
402004356
402004353
402004352
402004351
402004350
402004349
402004348
402004347
402004344
402004343
402004342
402004340
402004337
402004336
402004332
402004331
402004330
402004329
402004328
402004327
402004326
402004325
402004324
402004323
402004321
402004319
402004318
402004317
402004316
402004315
402004314
402004313
402004312
402004311
402004310
402004309
402004208
402004143
402004142
402004118
402004072
402004071
402004070
402004069
402004068
402004067
402004066
402004065
402004064
402004063
402004055
402004039
402003999
402003998
402003996
402003991
402003989
402003988
402003914
402003887
402003864
402003586
402003585
402003584
402003583
402003582
402003551
402003545
402003539
402003468
402003420
402003378
402003372
402003345
402003333
402003324
402003302
402003274
402003199
402003179
402003177
402002574
402002510
402002493
402001017
402000947
402000676
402000660
402000580
402000577
402000538
402000531
402000521
402000433
402000425
401001948
401001946
401001945
401001944
401001943
401001942
401001941
401001936
401001932
401001931
401001930
401001927
401001923
401001849
401001848
401001847
401001846
401001845
401001844
401001843
401001842
401001841
401001840
401001839
401001838
401001837
401001836
401001835
401001834
401001833
401001832
401001831
401001830
401001829
401001828
401001827
401001826
401001825
401001824
401001823
401001822
401001821
401001820
401001819
401001818
401001817
401001816
401001815
401001814
401001813
401001812
401001811
401001810
401001809
401001808
401001807
401001806
401001805
401001804
401001803
401001802
401001801
401001800
401001799
401001798
401001797
401001796
401001795
401001794
401001793
401001792
401001791
401001790
401001789
401001788
401001787
401001786
401001785
401001784
401001783
401001782
401001781
401001780
401001779
401001778
401001777
401001776
401001775
401001774
401001773
401001772
401001771
401001770
401001769
401001768
401001767
401001766
401001765
401001764
401001763
401001762
401001761
401001760
401001759
401001758
401001757
401001756
401001755
401001754
401001753
401001752
401001751
401001750
401001749
401001748
401001747
401001746
401001745
401001744
401001743
401001742
401001741
401001740
401001739
401001738
401001737
401001736
401001735
401001734
401001733
401001732
401001731
401001730
401001729
401001728
401001727
401001726
401001725
401001724
401001723
401001722
401001721
401001720
401001719
401001718
401001717
401001716
401001715
401001714
401001713
401001712
401001711
401001710
401001709
401001708
401001707
401001706
401001705
401001704
401001703
401001702
401001701
401001700
401001699
401001698
401001697
401001696
401001695
401001694
401001693
401001692
401001691
401001690
401001689
401001688
401001687
401001686
401001685
401001684
401001683
401001682
401001681
401001680
401001679
401001678
401001677
401001676
401001675
401001674
401001673
401001672
401001671
401001670
401001669
401001668
401001667
401001666
401001665
401001664
401001663
401001662
401001661
401001660
401001659
401001658
401001657
401001656
401001655
401001654
401001653
401001652
401001651
401001650
401001649
401001648
401001647
401001646
401001645
401001644
401001643
401001642
401001641
401001640
401001639
401001638
401001637
401001636
401001635
401001634
401001633
401001632
401001631
401001630
401001629
401001628
401001627
401001626
401001625
401001624
401001623
401001622
401001621
401001620
401001619
401001618
401001617
401001616
401001615
401001614
401001613
401001612
401001611
401001610
401001609
401001608
401001607
401001606
401001605
401001604
401001603
401001602
401001601
401001600
401001599
401001598
401001597
401001596
401001595
401001594
401001593
401001592
401001591
401001590
401001589
401001588
401001587
401001586
401001585
401001584
401001583
401001582
401001581
401001580
401001579
401001578
401001577
401001576
401001575
401001574
401001573
401001572
401001571
401001570
401001569
401001568
401001567
401001566
401001565
401001564
401001563
401001562
401001561
401001560
401001559
401001558
401001557
401001556
401001555
401001554
401001553
401001552
401001551
401001550
401001549
401001548
401001547
401001546
401001545
401001544
401001543
401001542
401001541
401001540
401001539
401001538
401001537
401001536
401001535
401001534
401001533
401001532
401001531
401001530
401001529
401001528
401001527
401001526
401001525
401001524
401001523
401001522
401001521
401001520
401001519
401001518
401001517
401001516
401001515
401001514
401001513
401001512
401001511
401001510
401001509
401001508
401001507
401001506
401001505
401001504
401001503
401001502
401001501
401001500
401001499
401001498
401001497
401001496
401001495
401001494
401001493
401001492
401001491
401001490
401001489
401001488
401001487
401001486
401001485
401001484
401001483
401001482
401001481
401001480
401001479
401001478
401001477
401001476
401001475
401001474
401001473
401001472
401001471
401001470
401001469
401001468
401001467
401001466
401001465
401001464
401001463
401001462
401001461
401001460
401001459
401001458
401001457
401001456
401001455
401001454
401001453
401001452
401001451
401001450
401001449
401001448
401001447
401001446
401001445
401001444
401001443
401001442
401001441
401001440
401001439
401001438
401001437
401001436
401001435
401001434
401001433
401001432
401001431
401001430
401001429
401001428
401001427
401001426
401001425
401001424
401001423
401001422
401001421
401001420
401001419
401001418
401001417
401001416
401001415
401001414
401001413
401001412
401001411
401001410
401001409
401001408
401001407
401001406
401001405
401001404
401001403
401001402
401001401
401001400
401001399
401001398
401001397
401001396
401001395
401001394
401001393
401001392
401001391
401001390
401001389
401001388
401001387
401001386
401001385
401001384
401001383
401001382
401001381
401001380
401001379
401001378
401001377
401001376
401001375
401001374
401001373
401001372
401001371
401001370
401001369
401001368
401001367
401001366
401001365
401001364
401001363
401001362
401001361
401001360
401001359
401001358
401001357
401001356
401001355
401001354
401001353
401001352
401001351
401001350
401001349
401001348
401001347
401001346
401001345
401001344
401001343
401001342
401001341
401001340
401001339
401001338
401001337
401001336
401001335
401001334
401001333
401001332
401001331
401001330
401001329
401001328
401001327
401001326
401001325
401001324
401001323
401001322
401001321
401001320
401001319
401001318
401001317
401001316
401001315
401001314
401001313
401001312
401001311
401001310
401001309
401001308
401001307
401001306
401001305
401001304
401001303
401001302
401001301
401001300
401001299
401001298
401001297
401001296
401001295
401001294
401001293
401001292
401001291
401001290
401001289
401001288
401001287
401001286
401001285
401001284
401001283
401001282
401001281
401001280
401001279
401001278
401001277
401001276
401001275
401001274
401001273
401001272
401001271
401001270
401001269
401001268
401001267
401001266
401001265
401001264
401001263
401001262
401001261
401001260
401001259
401001258
401001257
401001256
401001042
401000714
401000526
401000134
401000123
401000044
400249724
400230160
400230159
400230158
400230157
400230156
400230155
400230154
400230153
400230152
400230151
400230150
400230149
400230148
400219242
400219241
400219240
400219239
400219238
400219237
400219236
400219235
400219234
400219233
400219232
400219231
400219230
400219229
400219228
400219227
400219226
400219225
400219224
400219223
400219222
400219221
400219220
400219219
400219218
400219217
400219216
400219215
400219214
400219213
400219212
400219211
400219210
400219209
400219208
400219207
400219206
400219205
400219204
400219203
400219202
400219201
400219200
400219199
400219198
400219197
400219196
400219195
400219194
400219193
400219192
400219191
400219190
400219189
400219188
400219187
400219186
400219185
400219184
400219183
400219182
400219181
400219180
400219179
400219178
400219177
400219176
400219175
400219174
400219173
400219172
400219171
400219170
400219169
400219168
400219167
400219166
400219165
400219164
400219163
400219162
400219161
400219160
400219159
400219158
400219157
400219156
400219155
400219154
400219153
400219152
400219151
400219150
400219149
400219148
400219147
400219146
400219145
400219144
400219143
400219142
400219141
400219140
400219139
400219138
400219137
400219136
400219135
400219134
400219133
400219132
400219131
400219130
400219129
400219128
400219127
400219126
400219125
400219124
400219123
400219122
400219121
400219120
400215857
400215769
400215734
400215724
400193842
400187574
400187568
400187567
400187566
400187565
400185064
400173727
400173726
400173725
400173724
400173723
400173722
400173721
400173720
400173719
400173718
400173717
400173716
400173715
400173714
400173713
400173712
400173711
400173710
400173709
400173708
400173707
400173706
400173705
400173704
400173703
400173702
400173701
400173700
400173699
400173698
400173697
400173696
400173695
400173694
400173693
400173692
400173691
400173690
400173689
400173688
400173687
400173686
400173685
400173684
400173683
400173682
400173681
400173680
400173679
400173678
400173677
400173676
400173675
400173674
400173673
400173672
400173671
400173670
400173669
400173668
400173667
400173666
400173335
400170460
400170265
400167338
400165153
400165152
400165147
400165146
400165145
400111226
400110745
400110721
400110200
400109788
400108714
400108619
400108327
400108314
400108062
400108001
400107230
400107191
400107049
400105038
400104811
400104797
400104175
400103384
400103379
400103378
400103377
400103376
400103375
400103369
400103367
400103366
400103365
400103364
400103363
400103361
400103360
400103356
400103355
400103354
400103348
400103347
400103337
400103325
400103324
400103323
400103322
400103321
400102496
400102457
400102109
400102014
400101914
400101570
400101507
400101494
400101468
400101460
400101443
400101425
400101394
400101392
400101376
400101366
400101352
400101309
400101306
400101163
400101130
400100996
400100955
400100672
400100644
400100624
400100618
400100614
400100557
400100520
400100495
400100453
400100157
400100110
400098512
400090421
400090219
400090211
400090210
400090209
400090175
400090172
400056326
400034700
400034613
400015100
400013779
400013778
400013595
400013594
400011499
400011118








400007896
400007672
400006793
400004766
400004202
400003931
400003807
400003806
400003805
400003804
400003803
400003802
400003801
400003800
400003799
400003798
400003797
400003796
400003795
400003794
400003793
400003792
400003791
400003790
400003789
400003788
400003787
400003786
400003785
400003784
400003783
400003782
400003781
400003780
400003779
400003778
400003777
400003776
400003775
400003774
400003773
400003772
400003771
400003770
400003769
400003768
400003767
400003766
400003765
400003764
400003763
400003762
400003749
400003748
400003747
400003746
400003745
400003744
400003743
400003742
400003741
400003740
400003739
400003738
400003737
400003736
400003735
400003734
400003733
400003732
400003731
400003730
400003729
400003728
400003727
400003726
400003725
400003724
400003723
400003722
400003721
400003720
400003719
400003718
400003717
400003716
400003715
400003714
400003713
400003712
400003711
400003710
400003709
400003708
400003707
400003706
400003705
400003704
400003703
400003702
400003701
400003700
400003699
400003698
400003697
400003696
400003695
400003694
400003693
400003692
400003691
400003690
400003689
400003688
400003687
400003686
400003685
400003684
400003683
400003682
400003681
400003680
400003679
400003678
400003677
400003676
400003675
400003674
400003673
400003672
400003671
400003670
400003669
400003668
400003667
400003666
400003665
400003664
400003663
400003662
400003661
400003660
400003659
400003658
400003657
400003656
400003655
400003654
400003653
400003652
400003651
400003650
400003649
400003648
400003647
400003646
400003645
400003644
400003643
400003642
400003641
400003640
400003639
400003638
400003637
400003636
400003635
400003634
400003633
400003632
400003631
400003630
400003629
400003628
400003627
400003626
400003625
400003624
400003623
400003622
400003621
400003620
400003619
400003618
400003617
400003616
400003615
400003614
400003613
400003612
400003611
400003610
400003609
400003608
400003607
400003606
400003605
400003604
400003603
400003602
400003601
400003600
400003599
400003598
400003597
400003596
400003595
400003594
400003593
400003592
400003591
400003590
400003589
400003588
400003587
400003586
400003585
400003584
400003583
400003582
400003581
400003580
400003579
400003578
400003577
400003576
400003575
400003574
400003573
400003572
400003571
400003570
400003569
400003568
400003567
400003566
400003565
400003564
400003563
400003562
400003561
400003560
400003559
400003558
400003557
400003556
400003555
400003554
400003553
400003552
400003551
400003550
400003549
400003548
400003547
400003546
400003545
400003544
400003543
400003542
400003541
400003540
400003539
400003538
400003537
400003536
400003535
400003534
400003533
400003532
400003531
400003530
400003529
400003528
400003527
400003526
400003525
400003524
400003523
400003522
400003521
400003520
400003519
400003518
400003517
400003516
400003515
400003514
400003513
400003512]
count = 0

subst = {}

items.each do |sid|
  source = Source.find(sid)

  #count +=1 if source.marc_source.include?("ü")
  source.marc.load_source false
  source.marc.all_tags.each do |tag|

    tag.each do |subt|
      next if !subt.content
      m = subt.content.match(/\S*Ü+\S*/)
      if m
        wrong = m.to_s.gsub("Ü", "ö")
    
        if !subst.include?(wrong)
          subst[wrong] = {}
          subst[wrong][:tags] = {}
        end
    
        subst[wrong][:correct] = m.to_s
        if !subst[wrong][:tags].keys.include?(tag.tag)
          subst[wrong][:tags][tag.tag] = []
        end
    
        subst[wrong][:tags][tag.tag] << subt.tag if !subst[wrong][:tags][tag.tag].include?(subt.tag)
      end
    end
  end
  
=begin OLD STYLE  
source.marc_source.each_line do |l|
next if l.include?("$aCH-MÜ")
m = l.match(/\S*Ü+\S*/)
if m
count +=1
puts m.to_s
subst[m.to_s.gsub("Ü", "ö")] = m.to_s
end

end
=end
end
puts subst.keys.to_a.sort.to_yaml

#puts subst.to_yaml

#403009990
#402009580
#400008462
#400008058
#400008057
#400008056
#400008055
#400008054
#400008053
#400008052